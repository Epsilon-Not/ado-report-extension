import*as tslib_1 from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./Panel.css";import*as React from"react";import{ScreenContext}from"../../Core/Util/Screen";import{Callout}from"../../Callout";import{Observer}from"../../Observer";import{Surface,SurfaceContext}from"../../Surface";import{css}from"../../Util";var CustomPanel=function(e){function t(t){var n=e.call(this,t)||this;return n.calloutContentRef=React.createRef(),n.defaultActiveElement=function(){var e=n.props.defaultActiveElement,t="function"==typeof e?e():e;if(t&&n.calloutContentRef.current){var o=n.calloutContentRef.current.querySelectorAll(t);if(o&&o.length)return t}return".bolt-panel-focus-element"},n.state={isDisplayed:!0},n}return tslib_1.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.ariaLabel,o=t.ariaLabelledBy,s=t.blurDismiss,l=t.calloutClassName,a=t.children,r=t.className,i=t.contentClassName,c=t.escDismiss,u=t.id,m=t.lightDismiss,f=t.modal,p=t.onDismiss,d=t.size,b=void 0===d?1:d,v=this.state.isDisplayed;return React.createElement(Observer,{size:this.context.size},function(t){var d=0===t.size;return React.createElement(Callout,{ariaLabel:n,ariaLabelledBy:o,blurDismiss:s,className:css("bolt-panel",l,!1===v&&"no-events"),contentClassName:css(i,"bolt-panel-callout-content scroll-auto",v?"in":"out",d?"bolt-panel-fullscreen absolute-fill":"relative"),contentJustification:3,contentLocation:2,contentOrientation:0,contentRef:e.calloutContentRef,contentShadow:!0,contentSize:d?void 0:b,escDismiss:c,id:u,focuszoneProps:{circularNavigation:!0,defaultActiveElement:e.defaultActiveElement,focusOnMount:!0,handleTabKey:!0,includeDefaults:!0,postprocessKeyStroke:function(e){return 9===e.which&&e.preventDefault(),2}},lightDismiss:m&&!1!==v,modal:f&&!1!==v,onDismiss:p},React.createElement(SurfaceContext.Consumer,null,function(e){return React.createElement(Surface,tslib_1.__assign({},e,{spacing:1}),React.createElement("div",{className:css(r,"bolt-panel-root flex-column flex-grow scroll-hidden")},React.createElement("div",{className:"bolt-panel-focus-element no-outline",tabIndex:-1}),a))}))})},t.prototype.animateOut=function(){return Promise.resolve()},t.defaultProps={escDismiss:!0,lightDismiss:!0,modal:!0},t.contextType=ScreenContext,t}(React.Component);export{CustomPanel};