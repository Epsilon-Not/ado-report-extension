import*as tslib_1 from"tslib";import"../../../CommonImports";import"../../../Core/core.css";import*as React from"react";import{Tooltip}from"../../../TooltipEx";import{css}from"../../../Util";var Time=function(t){function e(e){var i=t.call(this,e)||this;return i.timerId=0,i.state={output:""},i}return tslib_1.__extends(e,t),e.getDerivedStateFromProps=function(t){return{output:t.getTimeString()}},e.prototype.render=function(){var t={"aria-hidden":"true",className:css(this.props.className,"bolt-time-item white-space-nowrap")},e="span";this.props.dateTime&&(e="time",t.dateTime=this.props.dateTime.toISOString());var i=React.createElement("span",{className:"text-ellipsis","aria-label":this.state.output+" "+this.props.ariaLabel,tabIndex:this.props.tabIndex},React.createElement(e,tslib_1.__assign({},t),this.state.output));return this.props.tooltipProps&&(i=React.createElement(Tooltip,tslib_1.__assign({},this.props.tooltipProps),i)),i},e.prototype.componentDidUpdate=function(t){this.cancelNextRefresh(),this.setNextRefresh()},e.prototype.componentDidMount=function(){this.setNextRefresh()},e.prototype.componentWillUnmount=function(){this.cancelNextRefresh()},e.prototype.cancelNextRefresh=function(){this.timerId&&(window.clearTimeout(this.timerId),this.timerId=0)},e.prototype.setNextRefresh=function(){var t=this,e=this.props.getNextInterval();-1!==e&&(this.timerId=window.setTimeout(function(){t.setState({output:t.props.getTimeString()})},e))},e}(React.Component);export{Time};