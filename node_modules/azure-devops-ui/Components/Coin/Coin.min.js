import*as tslib_1 from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./Coin.css";import*as React from"react";import{Tooltip}from"../../TooltipEx";import{css}from"../../Util";import{getColorString}from"../../Utilities/Color";import{getInitialsColorFromName,getInitialsFromName}from"./Coin.Initials";var Coin=function(t){function o(o){var e=t.call(this,o)||this;return e.onImageError=function(t){e.setState({imageError:!0})},e.onLoad=function(t){e.setState({imageLoaded:!0})},e.handleKeyDown=function(t){13!==t.keyCode&&32!==t.keyCode||e.props.onClick&&e.props.onClick()},e.state={imageError:!1,imageLoaded:!1,showIdentityCard:!1},e}return tslib_1.__extends(o,t),o.prototype.render=function(){var t=this.props,o=t.className,e=t.displayName,i=t.dataIsFocusable,a=t.onClick,r=t.isTabStop,n=t.imgAltText,s=void 0===n?"":n,l=t.imageUrl,m=t.size,c=t.tooltipProps,p="size"+m,d={};i&&(d["data-is-focusable"]=!0),r&&(d.tabIndex=0),a&&(d.onKeyDown=this.handleKeyDown,d.onClick=a),d["aria-label"]=e;var g=getInitialsColorFromName(e),C=React.createElement("div",{className:css("bolt-coin-content",p),style:g&&{background:getColorString(g)}},React.createElement("span",null,getInitialsFromName(e))),u=void 0===l||this.state.imageError?C:React.createElement(React.Fragment,null,React.createElement("img",{className:css("bolt-coin-content using-image",p,!this.state.imageLoaded&&"pending-load-image"),src:l,alt:s,onError:this.onImageError,onLoad:this.onLoad})),b=React.createElement("div",tslib_1.__assign({className:css("bolt-coin flex-noshrink",o,p,a&&"cursor-pointer")},d),u);return null!==c?React.createElement(Tooltip,tslib_1.__assign({text:e,showOnFocus:!0},c),b):b},o}(React.Component);export{Coin};