import*as tslib_1 from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./Tabs.css";import*as React from"react";import{ObservableLike}from"../../Core/Observable";import{ScreenContext}from"../../Core/Util/Screen";import{Observer}from"../../Observer";import{SurfaceContext}from"../../Surface";import{css}from"../../Util";import{Tab}from"./Tab";import{TabProviderContext}from"./TabProviderContext";import{Tabs}from"./Tabs";var TabBar=function(e){function r(){var r=null!==e&&e.apply(this,arguments)||this;return r.renderAdditionalContent=function(e){return e?e(!0):r.props.renderAdditionalContent&&r.props.renderAdditionalContent()},r.createTab=function(e){return React.createElement(Tab,{badgeCount:e.badgeCount,key:e.id,id:e.id,name:e.name,onBeforeTabChange:e.onBeforeTabChange,url:e.url&&ObservableLike.getValue(e.url),renderBadge:e.renderBadge})},r}return tslib_1.__extends(r,e),r.prototype.render=function(){var e=this;return React.createElement(Observer,{size:this.context.size},function(r){var t=0===r.size;return React.createElement(SurfaceContext.Consumer,null,function(o){return React.createElement(TabProviderContext.Consumer,null,function(a){var n=e.props.selectedTabId||a.selectedId;return React.createElement("div",{className:css(e.props.className,"bolt-tabbar flex-row flex-center flex-noshrink",!e.props.disableSticky&&r.size>=1&&"sticky",1===o.background&&"bolt-tabbar-grey",2===o.background&&"bolt-tabbar-on-callout")},React.createElement(Tabs,tslib_1.__assign({selectedTabId:n},e.props,{className:css(e.props.tabsClassName,"bolt-tabbar-tabs flex-grow",!t&&"flex-noshrink",t&&"h-scroll-auto")}),e.props.children,a.tabs.map(e.createTab)),e.renderAdditionalContent(a.renderFilterBar))})})})},r.contextType=ScreenContext,r}(React.Component);export{TabBar};