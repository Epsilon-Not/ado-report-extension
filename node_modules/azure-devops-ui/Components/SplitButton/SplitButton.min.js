import*as tslib_1 from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./SplitButton.css";import*as React from"react";import{Button}from"../../Button";import{Expandable}from"../../Expandable";import{FocusZone,FocusZoneContext}from"../../FocusZone";import{ContextualMenu}from"../../Menu";import*as Resources from"../../Resources.Widgets";import{css}from"../../Util";export var SplitButton=function(e){var t=React.createRef(),o=React.useRef(null),n=function(){return React.createElement(ContextualMenu,{anchorElement:t.current,anchorOrigin:{horizontal:"end",vertical:"end"},menuOrigin:{horizontal:"end",vertical:"start"},menuProps:e.menuButtonProps.contextualMenuProps.menuProps,onActivate:function(t,n){var r=e.menuButtonProps.contextualMenuProps;r.onActivate&&r.onActivate(t,n),o.current&&o.current.collapse()},onDismiss:function(){return o.current&&o.current.collapse()}})};return React.createElement(FocusZoneContext.Consumer,null,function(r){var s=React.createElement("div",{className:css(e.className,"bolt-split-button flex-stretch inline-flex-row"),ref:t},React.createElement(Button,tslib_1.__assign({},e.buttonProps,{className:css("bolt-split-button-main",e.buttonProps.className),disabled:e.disabled||e.buttonProps.disabled,focusZoneId:2===r.direction?r.focuszoneId:void 0,primary:e.primary,subtle:e.subtle})),React.createElement("div",{className:css("bolt-split-button-divider flex-noshrink",e.primary&&"primary",e.disabled&&"disabled")}),React.createElement(Expandable,{ref:o,renderCallout:n,disabled:e.disabled},function(t){return React.createElement("div",{className:"inline-flex-row",onMouseDown:t.onMouseDown,onKeyDown:t.onKeyDown},React.createElement(Button,tslib_1.__assign({ariaLabel:Resources.MoreActions},e.menuButtonProps,{className:css("bolt-split-button-option flex-self-stretch body-s",e.menuButtonProps.className,t.expanded&&"active"),disabled:e.disabled,iconProps:{iconName:"ChevronDownMed",size:"small"},onClick:t.onClick,primary:e.primary,subtle:e.subtle,text:void 0})))}));return 1!==r.direction&&(s=React.createElement(FocusZone,{direction:1},s)),s})};