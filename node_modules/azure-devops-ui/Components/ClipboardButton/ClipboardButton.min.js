import*as tslib_1 from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./ClipboardButton.css";import*as React from"react";import{Button}from"../../Button";import{Observer}from"../../Observer";import{css}from"../../Util";import{copyToClipboard}from"../../Utils/ClipboardUtils";import*as Resources from"../../Resources.Clipboard";import{ObservableValue}from"../../Core/Observable";var ClipboardButton=function(o){function e(){var e=null!==o&&o.apply(this,arguments)||this;return e.copied=new ObservableValue(!1),e.onClick=function(o){var t=e.props,r=t.getContent,i=t.onCopy;e.copied.value||(e.copied.value=!0);var p=r();copyToClipboard(p,i),o.preventDefault(),o.stopPropagation()},e.onMouseLeave=function(o){e.copied.value&&(e.copied.value=!1),e.props.onMouseLeave&&e.props.onMouseLeave(o)},e}return tslib_1.__extends(e,o),e.prototype.render=function(){var o=this,e=this.props,t=e.ariaLabel,r=e.showCopiedTooltip,i=e.subtle,p=e.tooltipProps,s="string"==typeof r?r:Resources.CopiedToClipboard;return React.createElement("div",{className:css("bolt-clipboard-button",this.props.className)},React.createElement(Observer,{copied:this.copied},function(e){return React.createElement(Button,{ariaLabel:t||Resources.CopyToClipboard,iconProps:{iconName:"Copy"},onClick:o.onClick,subtle:i,tooltipProps:r&&e.copied?tslib_1.__assign({},p,{text:s}):p,onMouseLeave:o.onMouseLeave})}))},e}(React.Component);export{ClipboardButton};