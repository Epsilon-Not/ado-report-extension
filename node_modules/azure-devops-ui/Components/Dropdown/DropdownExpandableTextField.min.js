function overflowDetected(e){var t=e.style,o=t.wordBreak,r=t.whiteSpace,i=e.clientHeight;e.style.wordBreak="break-all",e.style.whiteSpace="normal";var l=i<e.clientHeight;return e.style.wordBreak=o,e.style.whiteSpace=r,l}import*as tslib_1 from"tslib";import"../../CommonImports";import"../../Core/core.css";import"./Dropdown.css";import*as React from"react";import{ExpandableTextField}from"../../ExpandableTextField";import*as Resources from"../../Resources.Dropdown";import{css}from"../../Util";export function DropdownExpandableTextField(e){var t,o,r=e.editable,i=e.expandableRef,l=e.items,s=e.inputClassName,a=e.renderSelectedItems,n=e.selection,p=e.showPrefix,d=void 0===p||p,c=tslib_1.__rest(e,["editable","expandableRef","items","inputClassName","renderSelectedItems","selection","showPrefix"]);return r||(o=e.placeholder,n.selectedCount>0&&(o=a(n,l))),d&&1===n.selectedCount&&(t=l[n.value[0].beginIndex].iconProps),React.createElement(ExpandableTextField,tslib_1.__assign({ariaHasPopup:"menu",ariaRoleDescription:r?void 0:Resources.DropdownExpandableRoleDescription,autoComplete:r,ariaAutoComplete:r?"list":void 0,focusTreatment:r?0:1,inputType:r?void 0:"button",editable:r,ref:i,value:o},c,{className:css(e.className,"bolt-dropdown-expandable-text-field",c.disabled&&"disabled"),inputClassName:css(s,"bolt-dropdown-expandable-textfield-input text-ellipsis"),onClick:function(e){return i.current&&i.current.expand()},prefixIconProps:e.prefixIconProps||t,tooltipProps:tslib_1.__assign({text:o,overflowOnly:!0,overflowDetected:overflowDetected},e.tooltipProps)}))};